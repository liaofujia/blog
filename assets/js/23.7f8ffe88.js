(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{538:function(t,s,a){"use strict";a.r(s);var n=a(76),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"event-loop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-loop"}},[t._v("#")]),t._v(" Event Loop")]),t._v(" "),a("h2",{attrs:{id:"è¿›ç¨‹å’Œçº¿ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿›ç¨‹å’Œçº¿ç¨‹"}},[t._v("#")]),t._v(" è¿›ç¨‹å’Œçº¿ç¨‹")]),t._v(" "),a("h3",{attrs:{id:"è¿›ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿›ç¨‹"}},[t._v("#")]),t._v(" è¿›ç¨‹")]),t._v(" "),a("blockquote",[a("p",[t._v("ä¸€ä¸ªè¿›ç¨‹å°±æ˜¯CPUæ‰§è¡Œçš„å•ä¸ªä»»åŠ¡çš„è¿‡ç¨‹ï¼Œ"),a("strong",[t._v("æ˜¯ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹å½“ä¸­CPUèµ„æºåˆ†é…çš„æœ€å°å•ä½")]),t._v("ï¼Œå¹¶ä¸”è¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„åœ°å€ç©ºé—´ï¼ŒåŒ…å«äº†è¿è¡Œæ€ã€å°±ç»ªæ€ã€é˜»å¡æ€ã€åˆ›å»ºæ€ã€ç»ˆæ­¢æ€äº”ä¸ªçŠ¶æ€ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"çº¿ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#çº¿ç¨‹"}},[t._v("#")]),t._v(" çº¿ç¨‹")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("çº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„æœ€å°å•ä½")]),t._v("ï¼Œå®ƒå¯ä»¥å’Œå±äºåŒä¸€ä¸ªè¿›ç¨‹çš„å…¶ä»–çº¿ç¨‹å…±äº«è¿™ä¸ªè¿›ç¨‹çš„å…¨éƒ¨èµ„æºã€‚")])]),t._v(" "),a("h3",{attrs:{id:"ä¸¤è€…ä¹‹é—´çš„å…³ç³»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸¤è€…ä¹‹é—´çš„å…³ç³»"}},[t._v("#")]),t._v(" ä¸¤è€…ä¹‹é—´çš„å…³ç³»")]),t._v(" "),a("p",[t._v("ä¸€ä¸ªè¿›ç¨‹åŒ…å«å¤šä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹åªèƒ½åœ¨ä¸€ä¸ªè¿›ç¨‹ä¹‹ä¸­ã€‚æ¯ä¸€ä¸ªè¿›ç¨‹æœ€å°‘åŒ…å«ä¸€ä¸ªçº¿ç¨‹ã€‚")]),t._v(" "),a("h3",{attrs:{id:"ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«"}},[t._v("#")]),t._v(" ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«")]),t._v(" "),a("ol",[a("li",[t._v("è¿›ç¨‹æ˜¯CPUèµ„æºåˆ†é…çš„æœ€å°å•ä½ï¼Œçº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„æœ€å°å•ä½ï¼›")]),t._v(" "),a("li",[t._v("è¿›ç¨‹ä¹‹é—´çš„åˆ‡æ¢å¼€é”€æ¯”è¾ƒå¤§ï¼Œä½†æ˜¯çº¿ç¨‹ä¹‹é—´çš„åˆ‡æ¢å¼€é”€æ¯”è¾ƒå°ã€‚")]),t._v(" "),a("li",[t._v("CPUä¼šæŠŠèµ„æºåˆ†é…ç»™è¿›ç¨‹ï¼Œä½†æ˜¯çº¿ç¨‹å‡ ä¹ä¸æ‹¥æœ‰ä»»ä½•çš„ç³»ç»Ÿèµ„æºã€‚å› ä¸ºçº¿ç¨‹ä¹‹é—´æ˜¯å…±äº«åŒä¸€ä¸ªè¿›ç¨‹çš„ï¼Œæ‰€ä»¥çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡å‡ ä¹ä¸éœ€è¦ç³»ç»Ÿçš„å¹²æ‰°ã€‚")])]),t._v(" "),a("p",[a("strong",[t._v("ä¸¾ä¸ªä¾‹å­èƒ½å¤Ÿå¸®åŠ©æ›´å¥½çš„ç†è§£è¿›ç¨‹å’Œçº¿ç¨‹ï¼š")])]),t._v(" "),a("p",[t._v("å½“ä½ æ‰“å¼€ä¸€ä¸ª Tab é¡µæ—¶ï¼Œå…¶å®å°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œæ¯”å¦‚æ¸²æŸ“çº¿ç¨‹ã€JS å¼•æ“çº¿ç¨‹ã€HTTP è¯·æ±‚çº¿ç¨‹ç­‰ç­‰ã€‚å½“ä½ å‘èµ·ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œå…¶å®å°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹ï¼Œå½“è¯·æ±‚ç»“æŸåï¼Œè¯¥çº¿ç¨‹å¯èƒ½å°±ä¼šè¢«é”€æ¯ã€‚")]),t._v(" "),a("p",[t._v("JS å¼•æ“çº¿ç¨‹å’Œæ¸²æŸ“çº¿ç¨‹ï¼Œå¤§å®¶åº”è¯¥éƒ½çŸ¥é“ï¼Œåœ¨ JS è¿è¡Œçš„æ—¶å€™å¯èƒ½ä¼šé˜»æ­¢ UI æ¸²æŸ“ï¼Œè¿™è¯´æ˜äº†ä¸¤ä¸ªçº¿ç¨‹æ˜¯äº’æ–¥çš„ã€‚è¿™å…¶ä¸­çš„åŸå› æ˜¯å› ä¸º JS å¯ä»¥ä¿®æ”¹ DOMï¼Œå¦‚æœåœ¨ JS æ‰§è¡Œçš„æ—¶å€™ UI çº¿ç¨‹è¿˜åœ¨å·¥ä½œï¼Œå°±å¯èƒ½å¯¼è‡´ä¸èƒ½å®‰å…¨çš„æ¸²æŸ“ UIã€‚è¿™å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªå•çº¿ç¨‹çš„å¥½å¤„ï¼Œå¾—ç›Šäº JS æ˜¯å•çº¿ç¨‹è¿è¡Œçš„ï¼Œå¯ä»¥è¾¾åˆ°èŠ‚çœå†…å­˜ï¼ŒèŠ‚çº¦ä¸Šä¸‹æ–‡åˆ‡æ¢æ—¶é—´ï¼Œæ²¡æœ‰é”çš„é—®é¢˜çš„å¥½å¤„ã€‚å½“ç„¶å‰é¢ä¸¤ç‚¹åœ¨æœåŠ¡ç«¯ä¸­æ›´å®¹æ˜“ä½“ç°ï¼Œå¯¹äºé”çš„é—®é¢˜ï¼Œå½¢è±¡çš„æ¥è¯´å°±æ˜¯å½“æˆ‘è¯»å–ä¸€ä¸ªæ•°å­— 15 çš„æ—¶å€™ï¼ŒåŒæ—¶æœ‰ä¸¤ä¸ªæ“ä½œå¯¹æ•°å­—è¿›è¡Œäº†åŠ å‡ï¼Œè¿™æ—¶å€™ç»“æœå°±å‡ºç°äº†é”™è¯¯ã€‚è§£å†³è¿™ä¸ªé—®é¢˜ä¹Ÿä¸éš¾ï¼Œåªéœ€è¦åœ¨è¯»å–çš„æ—¶å€™åŠ é”ï¼Œç›´åˆ°è¯»å–å®Œæ¯•ä¹‹å‰éƒ½ä¸èƒ½è¿›è¡Œå†™å…¥æ“ä½œã€‚")]),t._v(" "),a("h2",{attrs:{id:"æ‰§è¡Œä¸Šä¸‹æ–‡-execution-context"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‰§è¡Œä¸Šä¸‹æ–‡-execution-context"}},[t._v("#")]),t._v(" æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆExecution Contextï¼‰")]),t._v(" "),a("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡")]),t._v(" "),a("blockquote",[a("p",[t._v("ç®€è€Œè¨€ä¹‹ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡å°±æ˜¯å½“å‰ JavaScript ä»£ç è¢«è§£æå’Œæ‰§è¡Œæ—¶æ‰€åœ¨ç¯å¢ƒçš„æŠ½è±¡æ¦‚å¿µï¼Œ JavaScript ä¸­è¿è¡Œä»»ä½•çš„ä»£ç éƒ½æ˜¯åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è¿è¡Œ")])]),t._v(" "),a("h3",{attrs:{id:"æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç±»å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç±»å‹"}},[t._v("#")]),t._v(" æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç±»å‹")]),t._v(" "),a("ul",[a("li",[t._v("å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼š è¿™æ˜¯é»˜è®¤çš„ã€æœ€åŸºç¡€çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ä¸åœ¨ä»»ä½•å‡½æ•°ä¸­çš„ä»£ç éƒ½ä½äºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ã€‚å®ƒåšäº†ä¸¤ä»¶äº‹ï¼š\n"),a("ul",[a("li",[t._v("åˆ›å»ºä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨ä¸­è¿™ä¸ªå…¨å±€å¯¹è±¡å°±æ˜¯ window å¯¹è±¡ã€‚")]),t._v(" "),a("li",[t._v("å°† this æŒ‡é’ˆæŒ‡å‘è¿™ä¸ªå…¨å±€å¯¹è±¡ã€‚ä¸€ä¸ªç¨‹åºä¸­åªèƒ½å­˜åœ¨ä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚")])])]),t._v(" "),a("li",[t._v("å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼š æ¯æ¬¡è°ƒç”¨å‡½æ•°æ—¶ï¼Œéƒ½ä¼šä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æ¯ä¸ªå‡½æ•°éƒ½æ‹¥æœ‰è‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä½†æ˜¯åªæœ‰åœ¨å‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™æ‰ä¼šè¢«åˆ›å»ºã€‚ä¸€ä¸ªç¨‹åºä¸­å¯ä»¥å­˜åœ¨ä»»æ„æ•°é‡çš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç”Ÿå‘½å‘¨æœŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç”Ÿå‘½å‘¨æœŸ"}},[t._v("#")]),t._v(" æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),a("p",[t._v("æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬ä¸‰ä¸ªé˜¶æ®µï¼š"),a("strong",[t._v("åˆ›å»ºé˜¶æ®µâ†’æ‰§è¡Œé˜¶æ®µâ†’å›æ”¶é˜¶æ®µ")]),t._v("ã€‚")]),t._v(" "),a("h2",{attrs:{id:"æ‰§è¡Œæ ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‰§è¡Œæ ˆ"}},[t._v("#")]),t._v(" æ‰§è¡Œæ ˆ")]),t._v(" "),a("p",[t._v("JavaScript å¼•æ“åˆ›å»ºäº†æ‰§è¡Œæ ˆæ¥ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚å¯ä»¥æŠŠæ‰§è¡Œæ ˆè®¤ä¸ºæ˜¯ä¸€ä¸ªå­˜å‚¨å‡½æ•°è°ƒç”¨çš„æ ˆç»“æ„ï¼Œéµå¾ª"),a("code",[t._v("å…ˆè¿›åå‡º")]),t._v("çš„åŸåˆ™ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("111")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("ä»£ç è¯¦è§£ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("è°ƒç”¨ bar å‡½æ•°æ—¶ï¼Œæ­¤æ—¶ bar å‡½æ•°å†…éƒ¨ä»£ç è¿˜æœªæ‰§è¡Œï¼Œjsæ‰§è¡Œå¼•æ“ç«‹å³åˆ›å»ºä¸€ä¸ª bar çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆç®€ç§°ECï¼‰ï¼Œç„¶åæŠŠè¿™æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥åˆ°æ‰§è¡Œæ ˆï¼ˆç®€ç§°ECStackï¼‰ä¸­ã€‚")]),t._v(" "),a("li",[t._v("æ‰§è¡Œ bar å‡½æ•°è¿‡ç¨‹ä¸­ï¼Œè°ƒç”¨ foo å‡½æ•°ï¼ŒåŒæ ·åœ°ï¼Œfoo å‡½æ•°æ‰§è¡Œä¹‹å‰ä¹Ÿåˆ›å»ºäº†ä¸€ä¸ª foo çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¹¶å‹å…¥åˆ°æ‰§è¡Œæ ˆä¸­ã€‚")]),t._v(" "),a("li",[t._v("foo å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°é”™è¯¯ï¼ŒæŠŠé”™è¯¯æŠ›å‡ºå¹¶å¼¹å‡ºæ ˆã€‚")])]),t._v(" "),a("h2",{attrs:{id:"event-loop-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-loop-2"}},[t._v("#")]),t._v(" Event Loop")]),t._v(" "),a("blockquote",[a("p",[t._v("åœ¨ "),a("code",[t._v("JavaScript")]),t._v(" ä¸­ï¼Œä»»åŠ¡è¢«åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§å®ä»»åŠ¡ï¼ˆ"),a("code",[t._v("MacroTask")]),t._v("ï¼‰ä¹Ÿå« "),a("code",[t._v("Task")]),t._v("ï¼Œä¸€ç§å«å¾®ä»»åŠ¡ï¼ˆ"),a("code",[t._v("MicroTask")]),t._v("ï¼‰ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"macrotask-å®ä»»åŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#macrotask-å®ä»»åŠ¡"}},[t._v("#")]),t._v(" MacroTaskï¼ˆå®ä»»åŠ¡ï¼‰")]),t._v(" "),a("p",[a("code",[t._v("script")]),t._v("å…¨éƒ¨ä»£ç ã€"),a("code",[t._v("setTimeout")]),t._v("ã€"),a("code",[t._v("setInterval")]),t._v("ã€"),a("code",[t._v("setImmediate")]),t._v("ï¼ˆæµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒï¼Œåªæœ‰IE10æ”¯æŒï¼Œå…·ä½“å¯è§MDNï¼‰ã€"),a("code",[t._v("I/O")]),t._v("ã€"),a("code",[t._v("UI Rendering")]),t._v("ã€‚")]),t._v(" "),a("h3",{attrs:{id:"microtask-å¾®ä»»åŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#microtask-å¾®ä»»åŠ¡"}},[t._v("#")]),t._v(" MicroTaskï¼ˆå¾®ä»»åŠ¡ï¼‰")]),t._v(" "),a("p",[a("code",[t._v("Process.nextTickï¼ˆNodeç‹¬æœ‰")]),t._v("ï¼‰ã€"),a("code",[t._v("Promise")]),t._v("ã€"),a("s",[a("code",[t._v("Object.observe")]),t._v("(åºŸå¼ƒ)")]),t._v("ã€"),a("code",[t._v("MutationObserver")]),a("a",{attrs:{href:"http://javascript.ruanyifeng.com/dom/mutationobserver.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("å…·ä½“ä½¿ç”¨æ–¹å¼æŸ¥çœ‹"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"æµè§ˆå™¨ä¸­çš„event-loop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨ä¸­çš„event-loop"}},[t._v("#")]),t._v(" æµè§ˆå™¨ä¸­çš„Event Loop")]),t._v(" "),a("p",[a("code",[t._v("Javascript")]),t._v(" æœ‰ä¸€ä¸ª "),a("code",[t._v("main thread")]),t._v(" ä¸»çº¿ç¨‹å’Œ "),a("code",[t._v("call-stack")]),t._v(" è°ƒç”¨æ ˆ(æ‰§è¡Œæ ˆ)ï¼Œæ‰€æœ‰çš„ä»»åŠ¡éƒ½ä¼šè¢«æ”¾åˆ°è°ƒç”¨æ ˆç­‰å¾…ä¸»çº¿ç¨‹æ‰§è¡Œã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"/blog/eventLoop.png",alt:"alt"}})]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æ€»ç»“")]),t._v(" "),a("ul",[a("li",[t._v("æ‰§è¡Œæ ˆåœ¨æ‰§è¡Œå®Œ"),a("code",[t._v("åŒæ­¥ä»»åŠ¡")]),t._v("åï¼ŒæŸ¥çœ‹æ‰§è¡Œæ ˆæ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœæ‰§è¡Œæ ˆä¸ºç©ºï¼Œå°±ä¼šå»æ£€æŸ¥"),a("code",[t._v("å¾®ä»»åŠ¡")]),t._v("("),a("code",[t._v("microTask")]),t._v(")é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºçš„è¯ï¼Œå°±æ‰§è¡Œ"),a("code",[t._v("Task")]),t._v("ï¼ˆå®ä»»åŠ¡ï¼‰ï¼›å¦‚æœå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ä¸ºç©ºçš„è¯ï¼Œå°±ä¸€æ¬¡æ€§æ‰§è¡Œå®Œæ‰€æœ‰çš„å¾®ä»»åŠ¡ã€‚")]),t._v(" "),a("li",[t._v("æ¯æ¬¡å•ä¸ª"),a("code",[t._v("å®ä»»åŠ¡")]),t._v("æ‰§è¡Œå®Œæ¯•åï¼Œä¼šå»æ£€æŸ¥"),a("code",[t._v("å¾®ä»»åŠ¡")]),t._v("("),a("code",[t._v("microTask")]),t._v(")é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºçš„è¯ï¼Œä¼šæŒ‰ç…§å…ˆå…¥å…ˆå‡ºçš„è§„åˆ™å…¨éƒ¨æ‰§è¡Œå®Œå¾®ä»»åŠ¡(microTask)åï¼Œè®¾ç½®"),a("code",[t._v("å¾®ä»»åŠ¡")]),t._v("("),a("code",[t._v("microTask")]),t._v(")é˜Ÿåˆ—ä¸º"),a("code",[t._v("null")]),t._v("ï¼Œç„¶åå†æ‰§è¡Œ"),a("code",[t._v("å®ä»»åŠ¡")]),t._v("ï¼Œå¦‚æ­¤å¾ªç¯ã€‚")])])]),t._v(" "),a("p",[t._v("ğŸŒ°ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script start'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setTimeout'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nPromise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'promise1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'promise2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script end'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//script start => script end => promise1 => promise2 => setTimeout")]),t._v("\n")])])]),a("p",[t._v("ä¸Šé¢ä»£ç æ‰§è¡Œè¿‡ç¨‹å¯ä»¥å‚è€ƒ"),a("a",{attrs:{href:"https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/",target:"_blank",rel:"noopener noreferrer"}},[t._v("tasks-microtasks-queues-and-schedules"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script start'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("async1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("async2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'async1 end'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("async2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'async2 end'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("async1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setTimeout'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Promise'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'promise1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'promise2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script end'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[a("code",[t._v("async/await")]),t._v(" åœ¨åº•å±‚è½¬æ¢æˆäº† "),a("code",[t._v("promise")]),t._v(" å’Œ "),a("code",[t._v("then")]),t._v(" å›è°ƒå‡½æ•°ã€‚\næ¯æ¬¡æˆ‘ä»¬ä½¿ç”¨ "),a("code",[t._v("await")]),t._v(", è§£é‡Šå™¨éƒ½åˆ›å»ºä¸€ä¸ª "),a("code",[t._v("promise")]),t._v(" å¯¹è±¡ï¼Œç„¶åæŠŠå‰©ä¸‹çš„ "),a("code",[t._v("async")]),t._v(" å‡½æ•°ä¸­çš„æ“ä½œæ”¾åˆ° "),a("code",[t._v("then")]),t._v(" å›è°ƒå‡½æ•°ä¸­ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥æŠŠä¸Šé¢ä¸¤ä¸ªasyncå‡½æ•°æ”¹é€ æˆä¸‹é¢çš„ä»£ç ")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'async2 end'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Promise.resolve() å°†ä»£ç æ’å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—å°¾éƒ¨")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resolve å†æ¬¡æ’å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—å°¾éƒ¨")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'async1 end'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"å…³äº73ä»¥ä¸‹ç‰ˆæœ¬å’Œ73ç‰ˆæœ¬çš„åŒºåˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…³äº73ä»¥ä¸‹ç‰ˆæœ¬å’Œ73ç‰ˆæœ¬çš„åŒºåˆ«"}},[t._v("#")]),t._v(" å…³äº73ä»¥ä¸‹ç‰ˆæœ¬å’Œ73ç‰ˆæœ¬çš„åŒºåˆ«")]),t._v(" "),a("ul",[a("li",[t._v("åœ¨è€ç‰ˆæœ¬ç‰ˆæœ¬ä»¥ä¸‹ï¼Œå…ˆæ‰§è¡Œ"),a("code",[t._v("promise1")]),t._v("å’Œ"),a("code",[t._v("promise2")]),t._v("ï¼Œå†æ‰§è¡Œ"),a("code",[t._v("async1")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("åœ¨73ç‰ˆæœ¬ï¼Œå…ˆæ‰§è¡Œ"),a("code",[t._v("async1")]),t._v("å†æ‰§è¡Œ"),a("code",[t._v("promise1")]),t._v("å’Œ"),a("code",[t._v("promise2")]),t._v("ã€‚")])]),t._v(" "),a("p",[t._v("ä»£ç è¯¦è§£ï¼š")]),t._v(" "),a("h4",{attrs:{id:"_73ä»¥ä¸‹ç‰ˆæœ¬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_73ä»¥ä¸‹ç‰ˆæœ¬"}},[t._v("#")]),t._v(" 73ä»¥ä¸‹ç‰ˆæœ¬")]),t._v(" "),a("ul",[a("li",[t._v("é¦–å…ˆï¼Œæ‰“å°"),a("code",[t._v("script start")]),t._v("ï¼Œè°ƒç”¨"),a("code",[t._v("async1()")]),t._v("æ—¶ï¼Œè¿”å›ä¸€ä¸ª"),a("code",[t._v("Promise")]),t._v("ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥"),a("code",[t._v("async2 end")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("æ¯ä¸ª "),a("code",[t._v("await")]),t._v("ï¼Œä¼šæ–°äº§ç”Ÿä¸€ä¸ª"),a("code",[t._v("promise")]),t._v("ï¼Œä½†è¿™ä¸ªè¿‡ç¨‹æœ¬èº«æ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥è¯¥awaitåé¢ä¸ä¼šç«‹å³è°ƒç”¨ã€‚")]),t._v(" "),a("li",[t._v("ç»§ç»­æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œæ‰“å°"),a("code",[t._v("Promise")]),t._v("å’Œ"),a("code",[t._v("script end")]),t._v("ï¼Œå°†"),a("code",[t._v("then")]),t._v("å‡½æ•°æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ç­‰å¾…æ‰§è¡Œã€‚")]),t._v(" "),a("li",[t._v("åŒæ­¥æ‰§è¡Œå®Œæˆä¹‹åï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦ä¸º"),a("code",[t._v("null")]),t._v("ï¼Œç„¶åæŒ‰ç…§å…ˆå…¥å…ˆå‡ºè§„åˆ™ï¼Œä¾æ¬¡æ‰§è¡Œã€‚")]),t._v(" "),a("li",[t._v("ç„¶åå…ˆæ‰§è¡Œæ‰“å°"),a("code",[t._v("promise1")]),t._v("ï¼Œæ­¤æ—¶"),a("code",[t._v("then")]),t._v("çš„å›è°ƒå‡½æ•°è¿”å›"),a("code",[t._v("undefined")]),t._v("ï¼Œæ­¤æ—¶åˆæœ‰"),a("code",[t._v("then")]),t._v("çš„é“¾å¼è°ƒç”¨ï¼Œåˆæ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå†æ¬¡æ‰“å°"),a("code",[t._v("promise2")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("å†å›åˆ°"),a("code",[t._v("await")]),t._v("çš„ä½ç½®æ‰§è¡Œè¿”å›çš„ "),a("code",[t._v("Promise")]),t._v(" çš„ "),a("code",[t._v("resolve")]),t._v(" å‡½æ•°ï¼Œè¿™åˆä¼šæŠŠ "),a("code",[t._v("resolve")]),t._v(" ä¸¢åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œæ‰“å°"),a("code",[t._v("async1 end")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("å½“å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œæ‰§è¡Œå®ä»»åŠ¡ï¼Œæ‰“å°"),a("code",[t._v("setTimeout")]),t._v("ã€‚")])]),t._v(" "),a("h4",{attrs:{id:"è°·æ­Œ-é‡‘ä¸é›€73ç‰ˆæœ¬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è°·æ­Œ-é‡‘ä¸é›€73ç‰ˆæœ¬"}},[t._v("#")]),t._v(" è°·æ­Œï¼ˆé‡‘ä¸é›€73ç‰ˆæœ¬ï¼‰")]),t._v(" "),a("ul",[a("li",[t._v("å¦‚æœä¼ é€’ç»™ "),a("code",[t._v("await")]),t._v(" çš„å€¼å·²ç»æ˜¯ä¸€ä¸ª "),a("code",[t._v("Promise")]),t._v("ï¼Œé‚£ä¹ˆè¿™ç§ä¼˜åŒ–é¿å…äº†å†æ¬¡åˆ›å»º "),a("code",[t._v("Promise")]),t._v(" åŒ…è£…å™¨ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä»æœ€å°‘ä¸‰ä¸ª "),a("code",[t._v("microtick")]),t._v(" åˆ°åªæœ‰ä¸€ä¸ª "),a("code",[t._v("microtick")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("å¼•æ“ä¸å†éœ€è¦ä¸º "),a("code",[t._v("await")]),t._v(" åˆ›é€  "),a("code",[t._v("throwaway Promise")]),t._v(" - åœ¨ç»å¤§éƒ¨åˆ†æ—¶é—´ã€‚")]),t._v(" "),a("li",[t._v("ç°åœ¨ "),a("code",[t._v("promise")]),t._v(" æŒ‡å‘äº†åŒä¸€ä¸ª "),a("code",[t._v("Promise")]),t._v("ï¼Œæ‰€ä»¥è¿™ä¸ªæ­¥éª¤ä»€ä¹ˆä¹Ÿä¸éœ€è¦åšã€‚ç„¶åå¼•æ“ç»§ç»­åƒä»¥å‰ä¸€æ ·ï¼Œåˆ›å»º "),a("code",[t._v("throwaway Promise")]),t._v("ï¼Œå®‰æ’ "),a("code",[t._v("PromiseReactionJob")]),t._v(" åœ¨"),a("code",[t._v("microtask")]),t._v(" é˜Ÿåˆ—çš„ä¸‹ä¸€ä¸ª "),a("code",[t._v("tick")]),t._v(" ä¸Šæ¢å¤å¼‚æ­¥å‡½æ•°ï¼Œæš‚åœæ‰§è¡Œè¯¥å‡½æ•°ï¼Œç„¶åè¿”å›ç»™è°ƒç”¨è€…ã€‚")])]),t._v(" "),a("p",[t._v("å…·ä½“è¯¦æƒ…æŸ¥çœ‹"),a("a",{attrs:{href:"https://v8.js.cn/blog/fast-async/",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™é‡Œ"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);